# ğŸ§¾ href v0.1 â€” High-Resolution Edit Format

## ğŸ¯ ç›®çš„

äººé–“ã®ã€Œæ›¸ãã€ã¨ã„ã†è¡Œç‚ºã‚’é«˜è§£åƒåº¦ã§è¨˜éŒ²ã—ã€å¾Œã‹ã‚‰ä»»æ„ã®ç²¾åº¦ã§å†æ§‹æˆãƒ»è§£æãƒ»å­¦ç¿’ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
å…¥åŠ›ãƒ‡ãƒã‚¤ã‚¹ã¯ Web ã® `input` è¦ç´ ã‚’æƒ³å®šã€‚

---

## ğŸ“¦ ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆJSON Schema æº–æ‹ ï¼‰

```json
{
  "version": "0.1",
  "session": {
    "id": "2025-11-05T13:42:17.812Z",
    "user_agent": "MacOS/Chrome 141.0.0.0",
    "lang": "ja-JP",
    "device": "desktop",
    "source": "web_input",
    "meta": {}
  },
  "initial_text": "",
  "events": [
    {
      "time": 1730781737812,
      "type": "keydown",
      "key": "A",
      "code": "KeyA",
      "pos": 0,
      "modifiers": { "shift": false, "ctrl": false, "alt": false, "meta": false }
    }
  ]
}
```

---

## ğŸ§© ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾©

### å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

| åç§°              | å‹      | å¿…é ˆ | èª¬æ˜                        |
| --------------- | ------ | -- | ------------------------- |
| `time`          | number | âœ”  | `Date.now()` ãƒ™ãƒ¼ã‚¹ã® UTC ãƒŸãƒªç§’ |
| `type`          | string | âœ”  | ã‚¤ãƒ™ãƒ³ãƒˆç¨®åˆ¥ï¼ˆä¸‹è¡¨å‚ç…§ï¼‰              |
| `pos`           | number |    | ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®                    |
| `data` / `text` | string |    | å…¥åŠ›æ–‡å­—åˆ—ã‚„æœªç¢ºå®šæ–‡å­—åˆ—              |
| `modifiers`     | object |    | ã‚·ãƒ•ãƒˆãƒ»Ctrl ç­‰ã®åŒæ™‚æŠ¼ã—æƒ…å ±         |
| `meta`          | object |    | ä»»æ„ã®æ‹¡å¼µç”¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰               |

---

### ã‚¤ãƒ™ãƒ³ãƒˆç¨®åˆ¥ä¸€è¦§ï¼ˆv0.1ï¼‰

| type                                                        | èª¬æ˜           | ä¸»ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰                    |
| ----------------------------------------------------------- | ------------ | -------------------------- |
| `keydown` / `keyup`                                         | ç‰©ç†ã‚­ãƒ¼æ“ä½œ       | `key`, `code`, `modifiers` |
| `beforeinput` / `input`                                     | ãƒ†ã‚­ã‚¹ãƒˆæŒ¿å…¥ï¼å‰Šé™¤    | `inputType`, `data`, `pos` |
| `compositionstart` / `compositionupdate` / `compositionend` | æ—¥æœ¬èªIMEå…¥åŠ›     | `data`, `segments`         |
| `selectionchange`                                           | ã‚«ãƒ¼ã‚½ãƒ«ï¼é¸æŠç¯„å›²ã®å¤‰åŒ– | `anchor`, `focus`          |
| `focus` / `blur`                                            | ç·¨é›†é ˜åŸŸã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ | â€”                          |
| `custom`                                                    | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‹¡å¼µç”¨ã‚¤ãƒ™ãƒ³ãƒˆ  | `label`, `payload`         |

---

## â±ï¸ æ™‚é–“ä»•æ§˜

* å˜ä½ï¼šãƒŸãƒªç§’ï¼ˆUNIX epochï¼‰
* `performance.now()` ã‚’ä½µç”¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ç›¸å¯¾æ™‚é–“ã‚‚åˆ¥é€”è¨˜éŒ²å¯
  â†’ å†ç”Ÿæ™‚ã®è£œæ­£ã«ä½¿ç”¨

---

## ğŸ“š ä¿å­˜å½¢å¼

* æ¨™æº–å½¢å¼ï¼šå˜ä¸€ JSON ãƒ•ã‚¡ã‚¤ãƒ«
  * æ‹¡å¼µå­ `.href.json`
* ã‚¹ãƒˆãƒªãƒ¼ãƒ å½¢å¼ï¼šNDJSONï¼ˆ1ã‚¤ãƒ™ãƒ³ãƒˆ1è¡Œï¼‰
  * æ‹¡å¼µå­ `.href.jsonl`
* åœ§ç¸®ï¼šåˆ©ç”¨å´åˆ¤æ–­ï¼ˆå¯é€†åœ§ç¸®æ¨å¥¨ï¼‰

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

HREF/
â”œâ”€â”€ README.md
â”œâ”€â”€ package.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/          # ã‚¹ã‚­ãƒ¼ãƒã¨å…±é€šå‹å®šç¾©
â”‚   â”œâ”€â”€ recorder/      # ã‚¤ãƒ™ãƒ³ãƒˆåé›†ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰
â”‚   â””â”€â”€ player/        # å†ç”Ÿãƒ»å¯è¦–åŒ–ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰
â”œâ”€â”€ examples/
â””â”€â”€ docs/
